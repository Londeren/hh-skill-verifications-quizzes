## Docker — начальный уровень

#### Содержание

- Понимание принципов работы Docker
- Базовое управление Docker образами и контейнерами
- Назначение и использование Docker Registry

#### В процессе разработки вы часто тестируете разные версии приложения в контейнерах.

Ваша задача — создать и сразу запустить новый контейнер из указанного образа, чтобы он выполнил команду /start.sh.
Какую команду нужно использовать для выполнения этой задачи?

- [ ] `docker pull image-name /start.sh`
- [x] `docker run image-name /start.sh`
- [ ] `docker start image-name /start.sh`
- [ ] `docker build image-name /start.sh`
- [ ] `docker create image-name /start.sh`

#### Каково ключевое различие между командами `docker exec` и `docker attach` при взаимодействии с работающим контейнером?

- [ ] `docker ехес` удаляет выполняемый образ, а `docker attach` подключает существующий и работающий контейнер к сети
- [ ] `docker ехес` завершает выполнение контейнера, a `docker attach` продолжает работу существующего и работающего контейнера
- [ ] `docker ехес` перезапускает основной процесс контейнера, a `docker attach` лишь выводит логи его выполнения
- [ ] `docker exec` создает новый контейнер, a `docker attach` использует уже существующий работающий контейнер
- [x] `docker ехес` запускает новую команду внутри контейнера, a `docker attach` подключается к текущему процессу контейнера

#### Вы хотите развернуть систему мониторинга, включающую три сервиса:

1. Агент сбора метрик,
2. Сервис обработки метрик
3. Интерфейс визуализации.

Все три сервиса должны работать в одной сети для обеспечения обмена данными. Требования:
А. Агент сбора метрик должен быть в состоянии передавать данные в сервис обработки.
В. Интерфейс визуализации должен быть доступен по порту 4000 и не должен взаимодействовать с агентом сбора метрик напрямую.

Как реализовать данное окружение с помощью Docker Compose?

- [ ] Настроить сеть в Docker Compose и описать все зависимости, ограничив взаимодействие между агентом и интерфейсом визуализации
- [ ] Добавить все сервисы в одну общую сеть без ограничений, не ограничивая и взаимодействие между агентом и интерфейсом визуализации
- [x] Разделить каждый сервис на отдельную сеть и настроить межсетевые маршруты так, чтобы они ограничили взаимодействие между агентом и интерфейсом визуализации
- [ ] Использовать bridge-сеть без указания портов и зависимостей ограничив взаимодействие между агентом и интерфейсом визуализации
- [ ] Настроить все сервисы так, чтобы они имели доступ к внешней сети не ограничив взаимодействие между агентом и интерфейсом визуализации

#### Какую функцию выполняет инструкция `ADD` в Dockerfile?

- [x] Копирует файлы из хоста в контейнер
- [ ] Указывает команду, которая добавляет метаданные в образ
- [ ] Выполняет команду во время сборки образа
- [ ] Устанавливает переменные окружения для процесса сборки
- [ ] Указывает команду, которая будет выполнена при запуске контейнера

#### Какая главная причина использования многослойных образов при создании Dockerfile?

- [ ] Снижают нагрузку на сам процессор при сборке образа
- [x] Позволяют повторно использовать кэш для ускорения сборки
- [ ] Обеспечивают совместимость контейнеров между разными ОС
- [ ] Поддерживают большее количество инструкций в Dockerfile
- [ ] Автоматически обновляют все зависимости при изменении кода

#### Вы разрабатываете микросервис, который должен быть упакован в минимальный Docker-образ. Требуется использовать официальный базовый образ и обеспечить, чтобы приложение автоматически компилировалось и запускалось в контейнере. Приложение не использует внешние зависимости.

Выберите ответ, в котором перечислены все инструкции, которые обязательно нужно включить.

- [ ] FROM, RUN и CMD
- [ ] WORKDIR и ENV
- [ ] RUN и CMD
- [x] FROM, COPY, RUN и CMD
- [ ] FROM и WORKDIR

#### Как секция services в Docker Compose файле влияет на конфигурацию и взаимодействие контейнеров в многоконтейнерной среде?

- [ ] Задает настройки сети между контейнерами, обеспечивая их взаимодействие
- [ ] Определяет переменные окружения для хоста, влияя на его поведение
- [x] Указывает список контейнеров, их конфигурацию и взаимосвязи, что позволяет обеспечить совместную работу
- [ ] Перечисляет доступные образы, упрощая выбор для запуска контейнеров
- [ ] Создает шаблоны для автоматического запуска новых контейнеров, оптимизируя их масштабирование

#### Вы настраиваете среду разработки для команды, работающей над приложением на основе микросервисной архитектуры. Приложение включает три контейнера: АРІ- сервер, кэш и база данных. При этом:

1. Все три контейнера должны запускаться и останавливаться одновременно.
2. Кэш должен использовать постоянное хранилище, чтобы данные сохранялись между перезапусками.
3. API-сервер должен автоматически перезапускаться при сбое.

Как настроить Docker Compose для реализации этих требований?

- [ ] Создать Docker Compose файл с секцией `networks` и подключить все эти три контейнера к одной сети
- [ ] Использовать команду `docker-compose up` для запуска контейнеров и команду `docker-compose down` для остановки контейнеров
- [ ] Использовать параметр `build` в Docker Compose файле для всех контейнеров, чтобы обеспечить их одновременный синхронный запуск
- [ ] Добавить параметр `depends_on` для кэша и базы данных, чтобы запускать эти три контейнера перед АРІ-сервером
- [x] Создать файл с секциями `services` для всех контейнеров, добавить volumes для кэша и установить параметр `restart: always` для АРІ-сервера

#### Вы разрабатываете приложение из 3 микросервисов, каждый запускается в отдельном контейнере. Необходимо, чтобы контейнеры могли свободно обмениваться данными между собой, но при этом оставались изолированными от сети хоста по соображениям безопасности. Вы хотите настроить сеть так, чтобы внешние системы не имели прямого доступа к этим контейнерам. В будущем нужно добавить новые контейнеры в эту же сеть без изменения существующей конфигурации.

Какую команду и тип сети вы выберете для достижения этой цели?

- [ ] Тип сети non и команду docker run --net=none для полной изоляции контейнеров
- [ ] Тип сети custom и команду docker network connect для подключения контейнеров к сети
- [ ] Тип сети macvlan и команду docker network create для создания сети с прямым доступом к физическому интерфейсу хоста
- [ ] Тип сети host и команду docker run --net=host для запуска контейнеров
- [x] Тип сети bridge и команду docker network create для создания новой сети

#### Какие основные функции выполняет Docker Registry для управления Docker-образами?

- [ ] Создание новых Docker-образов
- [ ] Мониторинг производительности контейнеров
- [x] Хранение и распространение Docker-образов
- [ ] Обеспечение безопасности контейнеров
- [ ] Управление конфигурациями приложений
